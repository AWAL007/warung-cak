<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warung Nusantara - Cita Rasa Tradisional Indonesia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .hero-bg { background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%); }
        .card-hover:hover { transform: translateY(-8px); transition: all 0.3s ease; }
        .menu-item:hover { transform: translateY(-2px); transition: all 0.3s ease; }
        .loading { display: none; }
        .success { display: none; }
        .page { display: none; }
        .page.active { display: block; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-2">
                    <span class="text-2xl">🍽️</span>
                    <span class="text-xl font-bold text-gray-800">Warung Nusantara</span>
                </div>
                <div class="hidden md:flex space-x-6">
                    <button onclick="showPage('home')" class="nav-link text-gray-700 hover:text-orange-500 font-medium transition-colors">Beranda</button>
                    <button onclick="showPage('order')" class="nav-link text-gray-700 hover:text-orange-500 font-medium transition-colors">Pesan Sekarang</button>
                </div>
                <button onclick="showPage('order')" class="bg-orange-500 text-white px-6 py-2 rounded-full hover:bg-orange-600 transition-colors">
                    Pesan Online
                </button>
            </div>
        </div>
    </nav>

    <!-- HOME PAGE -->
    <div id="homePage" class="page active">
        <!-- Hero Section -->
        <section class="hero-bg text-white pt-20">
            <div class="container mx-auto px-4 py-20">
                <div class="text-center max-w-4xl mx-auto">
                    <h1 class="text-5xl md:text-6xl font-bold mb-6 fade-in">
                        Warung Nusantara
                    </h1>
                    <p class="text-xl md:text-2xl mb-8 opacity-90 fade-in">
                        Menyajikan Cita Rasa Tradisional Indonesia dengan Sentuhan Modern
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center fade-in">
                        <button onclick="showPage('order')" class="bg-white text-orange-500 px-8 py-4 rounded-full font-semibold hover:bg-gray-100 transition-all transform hover:scale-105">
                            🛒 Pesan Sekarang
                        </button>
                        <button onclick="document.getElementById('about').scrollIntoView({behavior: 'smooth'})" class="border-2 border-white text-white px-8 py-4 rounded-full font-semibold hover:bg-white hover:text-orange-500 transition-all">
                            📖 Tentang Kami
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-20 bg-white">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Tentang Warung Nusantara</h2>
                    <p class="text-gray-600 max-w-2xl mx-auto">
                        Sejak 1995, kami telah menghadirkan kelezatan masakan tradisional Indonesia dengan resep turun temurun yang autentik
                    </p>
                </div>

                <div class="grid md:grid-cols-3 gap-8">
                    <div class="text-center card-hover bg-orange-50 p-8 rounded-2xl">
                        <div class="text-5xl mb-4">👨‍🍳</div>
                        <h3 class="text-xl font-semibold mb-3 text-gray-800">Chef Berpengalaman</h3>
                        <p class="text-gray-600">Tim chef kami memiliki pengalaman lebih dari 25 tahun dalam masakan tradisional Indonesia</p>
                    </div>
                    <div class="text-center card-hover bg-green-50 p-8 rounded-2xl">
                        <div class="text-5xl mb-4">🌿</div>
                        <h3 class="text-xl font-semibold mb-3 text-gray-800">Bahan Segar</h3>
                        <p class="text-gray-600">Menggunakan bahan-bahan segar pilihan dari petani lokal untuk cita rasa terbaik</p>
                    </div>
                    <div class="text-center card-hover bg-blue-50 p-8 rounded-2xl">
                        <div class="text-5xl mb-4">🏆</div>
                        <h3 class="text-xl font-semibold mb-3 text-gray-800">Resep Autentik</h3>
                        <p class="text-gray-600">Resep turun temurun yang telah diwariskan selama 3 generasi keluarga</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Menu Highlights -->
        <section class="py-20 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Menu Unggulan</h2>
                    <p class="text-gray-600">Nikmati berbagai hidangan khas Nusantara yang menggugah selera</p>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                        <div class="p-6 text-center">
                            <div class="text-6xl mb-4">🍛</div>
                            <h3 class="text-xl font-semibold mb-2">Nasi Gudeg</h3>
                            <p class="text-gray-600 mb-3">Gudeg khas Yogyakarta dengan cita rasa manis yang autentik</p>
                            <span class="text-orange-600 font-bold text-lg">Rp 15.000</span>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                        <div class="p-6 text-center">
                            <div class="text-6xl mb-4">🍖</div>
                            <h3 class="text-xl font-semibold mb-2">Rendang</h3>
                            <p class="text-gray-600 mb-3">Rendang daging sapi dengan bumbu rempah khas Padang</p>
                            <span class="text-orange-600 font-bold text-lg">Rp 25.000</span>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                        <div class="p-6 text-center">
                            <div class="text-6xl mb-4">🍗</div>
                            <h3 class="text-xl font-semibold mb-2">Ayam Bakar</h3>
                            <p class="text-gray-600 mb-3">Ayam bakar bumbu kecap dengan aroma yang menggoda</p>
                            <span class="text-orange-600 font-bold text-lg">Rp 20.000</span>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                        <div class="p-6 text-center">
                            <div class="text-6xl mb-4">🍲</div>
                            <h3 class="text-xl font-semibold mb-2">Soto Ayam</h3>
                            <p class="text-gray-600 mb-3">Soto ayam kuah bening dengan taburan bawang goreng</p>
                            <span class="text-orange-600 font-bold text-lg">Rp 13.000</span>
                        </div>
                    </div>
                </div>

                <div class="text-center mt-12">
                    <button onclick="showPage('order')" class="bg-orange-500 text-white px-8 py-4 rounded-full font-semibold hover:bg-orange-600 transition-all transform hover:scale-105">
                        Lihat Menu Lengkap & Pesan
                    </button>
                </div>
            </div>
        </section>

        <!-- Contact Info -->
        <section class="py-20 bg-white">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Hubungi Kami</h2>
                    <p class="text-gray-600">Kami siap melayani Anda setiap hari</p>
                </div>

                <div class="grid md:grid-cols-3 gap-8 max-w-4xl mx-auto">
                    <div class="text-center">
                        <div class="text-4xl mb-4">📍</div>
                        <h3 class="font-semibold mb-2">Alamat</h3>
                        <p class="text-gray-600">Jl. Malioboro No. 123<br>Yogyakarta 55271</p>
                    </div>
                    <div class="text-center">
                        <div class="text-4xl mb-4">📞</div>
                        <h3 class="font-semibold mb-2">Telepon</h3>
                        <p class="text-gray-600">+62 274 123456<br>+62 812 3456 7890</p>
                    </div>
                    <div class="text-center">
                        <div class="text-4xl mb-4">⏰</div>
                        <h3 class="font-semibold mb-2">Jam Buka</h3>
                        <p class="text-gray-600">Setiap Hari<br>08:00 - 22:00 WIB</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- ORDER PAGE -->
    <div id="orderPage" class="page pt-20">
        <div class="container mx-auto px-4 py-8 max-w-4xl">
            <!-- Header -->
            <div class="text-center mb-8">
                <button onclick="showPage('home')" class="inline-flex items-center text-orange-500 hover:text-orange-600 mb-4">
                    ← Kembali ke Beranda
                </button>
                <h1 class="text-4xl font-bold text-gray-800 mb-2">🍽️ Pemesanan Online</h1>
                <p class="text-gray-600">Pesan makanan favorit Anda dengan mudah</p>
            </div>

            <!-- Form Pemesanan -->
            <div class="bg-white rounded-2xl shadow-xl p-8 mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6">📝 Form Pemesanan</h2>
                
                <form id="orderForm" class="space-y-6">
                    <!-- Data Pelanggan -->
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap *</label>
                            <input type="text" id="customerName" required 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">No. WhatsApp *</label>
                            <input type="tel" id="phoneNumber" required 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                                   placeholder="08xxxxxxxxxx">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Alamat Pengiriman *</label>
                        <textarea id="address" required rows="3"
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                                  placeholder="Masukkan alamat lengkap untuk pengiriman"></textarea>
                    </div>

                    <!-- Menu Makanan -->
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">🍛 Pilih Menu</h3>
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4" id="menuContainer">
                            <!-- Menu items akan diisi oleh JavaScript -->
                        </div>
                    </div>

                    <!-- Total dan Catatan -->
                    <div class="bg-gray-50 rounded-lg p-6">
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-lg font-semibold text-gray-800">Total Pesanan:</span>
                            <span id="totalPrice" class="text-2xl font-bold text-orange-600">Rp 0</span>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Catatan Tambahan</label>
                            <textarea id="notes" rows="2"
                                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                                      placeholder="Contoh: Pedas sedang, tanpa bawang, dll."></textarea>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" 
                            class="w-full bg-gradient-to-r from-orange-500 to-red-500 text-white font-semibold py-4 px-6 rounded-lg hover:from-orange-600 hover:to-red-600 transform hover:scale-105 transition-all duration-300 shadow-lg">
                        <span class="normal-text">🚀 Kirim Pesanan</span>
                        <span class="loading">⏳ Mengirim...</span>
                    </button>
                </form>

                <!-- Success Message -->
                <div class="success bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mt-6">
                    ✅ Pesanan berhasil dikirim! Kami akan segera menghubungi Anda.
                </div>
            </div>

            <!-- Instruksi Google Sheets -->
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-blue-800 mb-3">📊 Cara Menghubungkan ke Google Sheets:</h3>
                <ol class="list-decimal list-inside space-y-2 text-blue-700 text-sm">
                    <li>Buat Google Sheet baru dengan kolom: Tanggal, Nama, No HP, Alamat, Pesanan, Total, Catatan</li>
                    <li>Buka Extensions → Apps Script di Google Sheets</li>
                    <li>Ganti kode dengan Web App yang menerima POST request</li>
                    <li>Deploy sebagai Web App dan copy URL-nya</li>
                    <li>Ganti variabel GOOGLE_SCRIPT_URL di kode JavaScript</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        // GANTI URL INI DENGAN URL GOOGLE APPS SCRIPT ANDA
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec';
        
        // Data Menu
        const menuItems = [
            { id: 1, name: 'Nasi Gudeg', price: 15000, emoji: '🍛' },
            { id: 2, name: 'Ayam Bakar', price: 20000, emoji: '🍗' },
            { id: 3, name: 'Gado-Gado', price: 12000, emoji: '🥗' },
            { id: 4, name: 'Soto Ayam', price: 13000, emoji: '🍲' },
            { id: 5, name: 'Rendang', price: 25000, emoji: '🍖' },
            { id: 6, name: 'Es Teh Manis', price: 5000, emoji: '🧊' },
            { id: 7, name: 'Es Jeruk', price: 7000, emoji: '🍊' },
            { id: 8, name: 'Kerupuk', price: 3000, emoji: '🍘' }
        ];

        let selectedItems = {};
        let totalPrice = 0;

        // Page Navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            if (pageId === 'home') {
                document.getElementById('homePage').classList.add('active');
            } else if (pageId === 'order') {
                document.getElementById('orderPage').classList.add('active');
                renderMenu(); // Render menu when switching to order page
            }
            
            window.scrollTo(0, 0);
        }

        // Render Menu
        function renderMenu() {
            const container = document.getElementById('menuContainer');
            if (!container) return;
            
            container.innerHTML = menuItems.map(item => `
                <div class="menu-item bg-white border border-gray-200 rounded-lg p-4 shadow-sm cursor-pointer">
                    <div class="text-center mb-3">
                        <div class="text-3xl mb-2">${item.emoji}</div>
                        <h4 class="font-semibold text-gray-800">${item.name}</h4>
                        <p class="text-orange-600 font-bold">Rp ${item.price.toLocaleString()}</p>
                    </div>
                    <div class="flex items-center justify-center space-x-3">
                        <button type="button" onclick="updateQuantity(${item.id}, -1)" 
                                class="w-8 h-8 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors">-</button>
                        <span id="qty-${item.id}" class="font-semibold text-lg w-8 text-center">0</span>
                        <button type="button" onclick="updateQuantity(${item.id}, 1)" 
                                class="w-8 h-8 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors">+</button>
                    </div>
                </div>
            `).join('');
        }

        // Update Quantity
        function updateQuantity(itemId, change) {
            const item = menuItems.find(m => m.id === itemId);
            if (!selectedItems[itemId]) selectedItems[itemId] = 0;
            
            selectedItems[itemId] += change;
            if (selectedItems[itemId] < 0) selectedItems[itemId] = 0;
            
            const qtyElement = document.getElementById(`qty-${itemId}`);
            if (qtyElement) {
                qtyElement.textContent = selectedItems[itemId];
            }
            updateTotal();
        }

        // Update Total Price
        function updateTotal() {
            totalPrice = 0;
            for (const [itemId, quantity] of Object.entries(selectedItems)) {
                const item = menuItems.find(m => m.id == itemId);
                totalPrice += item.price * quantity;
            }
            const totalElement = document.getElementById('totalPrice');
            if (totalElement) {
                totalElement.textContent = `Rp ${totalPrice.toLocaleString()}`;
            }
        }

        // Submit Form
        document.addEventListener('DOMContentLoaded', function() {
            const orderForm = document.getElementById('orderForm');
            if (orderForm) {
                orderForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    // Validasi pesanan
                    const hasOrder = Object.values(selectedItems).some(qty => qty > 0);
                    if (!hasOrder) {
                        alert('Silakan pilih minimal satu menu!');
                        return;
                    }

                    // Show loading
                    document.querySelector('.normal-text').style.display = 'none';
                    document.querySelector('.loading').style.display = 'inline';
                    
                    // Prepare order data
                    const orderDetails = menuItems
                        .filter(item => selectedItems[item.id] > 0)
                        .map(item => `${item.name} x${selectedItems[item.id]} = Rp ${(item.price * selectedItems[item.id]).toLocaleString()}`)
                        .join('\n');

                    const formData = {
                        timestamp: new Date().toLocaleString('id-ID'),
                        customerName: document.getElementById('customerName').value,
                        phoneNumber: document.getElementById('phoneNumber').value,
                        address: document.getElementById('address').value,
                        orderDetails: orderDetails,
                        totalPrice: `Rp ${totalPrice.toLocaleString()}`,
                        notes: document.getElementById('notes').value || '-'
                    };

                    try {
                        // Kirim ke Google Sheets (akan error jika URL belum diset)
                        const response = await fetch(GOOGLE_SCRIPT_URL, {
                            method: 'POST',
                            mode: 'no-cors',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(formData)
                        });

                        // Show success message
                        document.querySelector('.success').style.display = 'block';
                        document.getElementById('orderForm').reset();
                        selectedItems = {};
                        totalPrice = 0;
                        renderMenu();
                        updateTotal();
                        
                        // Scroll to success message
                        document.querySelector('.success').scrollIntoView({ behavior: 'smooth' });
                        
                    } catch (error) {
                        alert('Terjadi kesalahan. Pastikan URL Google Script sudah benar!');
                        console.error('Error:', error);
                    }
                    
                    // Hide loading
                    document.querySelector('.normal-text').style.display = 'inline';
                    document.querySelector('.loading').style.display = 'none';
                });
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97f44561436d9c3b',t:'MTc1Nzg5ODkwNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
